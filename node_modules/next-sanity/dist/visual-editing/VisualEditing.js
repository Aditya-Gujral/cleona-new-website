"use client";import{enableVisualEditing as t}from"@sanity/visual-editing";import{useRouter as r,usePathname as e,useSearchParams as n}from"next/navigation.js";import{useRef as c,useState as u,useEffect as o}from"react";function a(a){const{zIndex:s}=a,i=r(),p=c(i),[l,d]=u();o((()=>{p.current=i}),[i]),o((()=>{const r=t({zIndex:s,history:{subscribe:t=>(d((()=>t)),()=>d(void 0)),update:t=>{switch(t.type){case"push":return p.current.push(t.url);case"pop":return p.current.back();case"replace":return p.current.replace(t.url);default:throw new Error("Unknown update type: ".concat(t.type))}}}});return()=>r()}),[s]);const f=e(),h=n();return o((()=>{l&&l({type:"push",url:"".concat(f).concat((null==h?void 0:h.size)?"?".concat(h):"")})}),[l,f,h]),null}export{a as default};
//# sourceMappingURL=VisualEditing.js.map
