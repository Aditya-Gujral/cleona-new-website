"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5601],{75601:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var r=o(57437),n=o(2265),a=o(43593),l=o(5786),c=o(7924),i=o(34241),d=e=>{var{theme:t,settings:o={},styles:r=[]}=e,n={".cm-gutters":{}},a={};o.background&&(a.backgroundColor=o.background),o.backgroundImage&&(a.backgroundImage=o.backgroundImage),o.foreground&&(a.color=o.foreground),o.fontSize&&(a.fontSize=o.fontSize),(o.background||o.foreground)&&(n["&"]=a),o.fontFamily&&(n["&.cm-editor .cm-scroller"]={fontFamily:o.fontFamily}),o.gutterBackground&&(n[".cm-gutters"].backgroundColor=o.gutterBackground),o.gutterForeground&&(n[".cm-gutters"].color=o.gutterForeground),o.gutterBorder&&(n[".cm-gutters"].borderRightColor=o.gutterBorder),o.caret&&(n[".cm-content"]={caretColor:o.caret},n[".cm-cursor, .cm-dropCursor"]={borderLeftColor:o.caret});var l={};o.gutterActiveForeground&&(l.color=o.gutterActiveForeground),o.lineHighlight&&(n[".cm-activeLine"]={backgroundColor:o.lineHighlight},l.backgroundColor=o.lineHighlight),n[".cm-activeLineGutter"]=l,o.selection&&(n["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:o.selection+" !important"}),o.selectionMatch&&(n["& .cm-selectionMatch"]={backgroundColor:o.selectionMatch});var d=c.tk.theme(n,{dark:"dark"===t}),m=i.Qf.define(r);return[d,(0,i.nF)(m)]},m=o(64462),u=o(44967),s=o(95281);let g=[{name:"groq",loader:()=>Promise.all([o.e(8640),o.e(742)]).then(o.bind(o,50742)).then(e=>{let{javascriptLanguage:t}=e;return t})},{name:"javascript",loader:()=>Promise.all([o.e(8640),o.e(742)]).then(o.bind(o,50742)).then(e=>{let{javascript:t}=e;return t({jsx:!1})})},{name:"jsx",loader:()=>Promise.all([o.e(8640),o.e(742)]).then(o.bind(o,50742)).then(e=>{let{javascript:t}=e;return t({jsx:!0})})},{name:"typescript",loader:()=>Promise.all([o.e(8640),o.e(742)]).then(o.bind(o,50742)).then(e=>{let{javascript:t}=e;return t({jsx:!1,typescript:!0})})},{name:"tsx",loader:()=>Promise.all([o.e(8640),o.e(742)]).then(o.bind(o,50742)).then(e=>{let{javascript:t}=e;return t({jsx:!0,typescript:!0})})},{name:"php",loader:()=>Promise.all([o.e(8640),o.e(742),o.e(9592),o.e(1239)]).then(o.bind(o,71239)).then(e=>{let{php:t}=e;return t()})},{name:"sql",loader:()=>Promise.all([o.e(8640),o.e(2587)]).then(o.bind(o,2587)).then(e=>{let{sql:t}=e;return t()})},{name:"mysql",loader:()=>Promise.all([o.e(8640),o.e(2587)]).then(o.bind(o,2587)).then(e=>{let{sql:t,MySQL:o}=e;return t({dialect:o})})},{name:"json",loader:()=>Promise.all([o.e(8640),o.e(7529)]).then(o.bind(o,57529)).then(e=>{let{json:t}=e;return t()})},{name:"markdown",loader:()=>Promise.all([o.e(8640),o.e(742),o.e(9592),o.e(8258)]).then(o.bind(o,38258)).then(e=>{let{markdown:t}=e;return t()})},{name:"java",loader:()=>Promise.all([o.e(8640),o.e(2398)]).then(o.bind(o,22398)).then(e=>{let{java:t}=e;return t()})},{name:"html",loader:()=>Promise.all([o.e(8640),o.e(742),o.e(9592)]).then(o.bind(o,39592)).then(e=>{let{html:t}=e;return t()})},{name:"csharp",loader:()=>o.e(2583).then(o.bind(o,42583)).then(e=>{let{csharp:t}=e;return i.il.define(t)})},{name:"sh",loader:()=>o.e(2165).then(o.bind(o,52165)).then(e=>{let{shell:t}=e;return i.il.define(t)})},{name:"css",loader:()=>o.e(9828).then(o.bind(o,99828)).then(e=>{let{css:t}=e;return i.il.define(t)})},{name:"scss",loader:()=>o.e(9828).then(o.bind(o,99828)).then(e=>{let{css:t}=e;return i.il.define(t)})},{name:"sass",loader:()=>o.e(6383).then(o.bind(o,86383)).then(e=>{let{sass:t}=e;return i.il.define(t)})},{name:"ruby",loader:()=>o.e(4389).then(o.bind(o,4389)).then(e=>{let{ruby:t}=e;return i.il.define(t)})},{name:"python",loader:()=>o.e(8987).then(o.bind(o,88987)).then(e=>{let{python:t}=e;return i.il.define(t)})},{name:"xml",loader:()=>o.e(1206).then(o.bind(o,11206)).then(e=>{let{xml:t}=e;return i.il.define(t)})},{name:"yaml",loader:()=>o.e(8070).then(o.bind(o,88070)).then(e=>{let{yaml:t}=e;return i.il.define(t)})},{name:"golang",loader:()=>o.e(4281).then(o.bind(o,84281)).then(e=>{let{go:t}=e;return i.il.define(t)})},{name:"text",loader:()=>void 0},{name:"batch",loader:()=>void 0}],h="cm-highlight-line",f=s.Py.define(),b=s.Py.define(),p=s.QQ.define({create:()=>c.p.none,update(e,t){for(let o of(e=e.map(t.changes),t.effects))o.is(f)&&(e=e.update({add:[k.range(o.value)]})),o.is(b)&&(e=e.update({filter:e=>e!==o.value}));return e},toJSON(e,t){let o=[],r=e.iter();for(;r.value;){let e=t.doc.lineAt(r.from).number;o.includes(e)||o.push(e),r.next()}return o},fromJSON(e,t){let o=t.doc.lines,r=e.filter(e=>e<=o).map(e=>k.range(t.doc.line(e).from));r.sort((e,t)=>e.from-t.from);try{return c.p.none.update({add:r})}catch(e){return console.error(e),c.p.none}},provide:e=>c.tk.decorations.from(e)}),k=c.p.line({class:h}),J={highlight:p},y=e=>{let t=function(e){let{themeCtx:t}=e,o={color:t.theme.color.dark[t.tone]},r={color:t.theme.color.light[t.tone]};return c.tk.baseTheme({".cm-lineNumbers":{cursor:"default"},".cm-line.cm-line":{position:"relative"},[".".concat(h,"::before")]:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:-3,content:"''",boxSizing:"border-box"},["&dark .".concat(h,"::before")]:{background:(0,l.m4)(o.color.muted.caution.pressed.bg,.5)},["&light .".concat(h,"::before")]:{background:(0,l.m4)(r.color.muted.caution.pressed.bg,.75)}})}({themeCtx:e.theme});return[p,e.readOnly?[]:(0,c.Eu)({domEventHandlers:{mousedown:(t,o)=>{let r=t.state.doc.lineAt(o.from),n=!1;return t.state.field(p).between(r.from,r.to,(e,t,o)=>{if(o)return n=!0,!1}),n?t.dispatch({effects:b.of(r.from)}):t.dispatch({effects:f.of(r.from)}),(null==e?void 0:e.onHighlightChange)&&e.onHighlightChange(t.state.toJSON(J).highlight),!0}}}),t]},v=(0,n.forwardRef)(function(e,t){let{basicSetup:o,highlightLines:i,languageMode:s,onHighlightChange:h,readOnly:p,value:k,...v}=e,x=(0,l.Ur)(),N=function(){let e=(0,l.Fg)();return(0,n.useMemo)(()=>{let{code:t}=e.sanity.fonts,{base:o,card:r,dark:n,syntax:a}=e.sanity.color;return d({theme:n?"dark":"light",settings:{background:r.enabled.bg,foreground:r.enabled.code.fg,lineHighlight:r.enabled.bg,fontFamily:t.family,caret:o.focusRing,selection:(0,l.m4)(o.focusRing,.2),selectionMatch:(0,l.m4)(o.focusRing,.4),gutterBackground:r.disabled.bg,gutterForeground:r.disabled.code.fg,gutterActiveForeground:r.enabled.fg},styles:[{tag:[m.pJ.heading,m.pJ.heading2,m.pJ.heading3,m.pJ.heading4,m.pJ.heading5,m.pJ.heading6],color:r.enabled.fg},{tag:m.pJ.angleBracket,color:r.enabled.code.fg},{tag:m.pJ.atom,color:a.keyword},{tag:m.pJ.attributeName,color:a.attrName},{tag:m.pJ.bool,color:a.boolean},{tag:m.pJ.bracket,color:r.enabled.code.fg},{tag:m.pJ.className,color:a.className},{tag:m.pJ.comment,color:a.comment},{tag:m.pJ.definition(m.pJ.typeName),color:a.function},{tag:[m.pJ.definition(m.pJ.variableName),m.pJ.function(m.pJ.variableName),m.pJ.className,m.pJ.attributeName],color:a.function},{tag:[m.pJ.function(m.pJ.propertyName),m.pJ.propertyName],color:a.function},{tag:m.pJ.keyword,color:a.keyword},{tag:m.pJ.null,color:a.number},{tag:m.pJ.number,color:a.number},{tag:m.pJ.meta,color:r.enabled.code.fg},{tag:m.pJ.operator,color:a.operator},{tag:m.pJ.propertyName,color:a.property},{tag:[m.pJ.string,m.pJ.special(m.pJ.brace)],color:a.string},{tag:m.pJ.tagName,color:a.className},{tag:m.pJ.typeName,color:a.keyword}]})},[e])}(),[C,P]=(0,n.useState)(void 0),F=function(){let e=(0,l.Ur)();return(0,n.useMemo)(()=>{let t={color:e.theme.color.dark[e.tone]},o={color:e.theme.color.light[e.tone]};return c.tk.baseTheme({"&.cm-editor":{height:"100%"},"&.cm-editor.cm-focused":{outline:"none"},"&.cm-editor.cm-focused .cm-matchingBracket":{backgroundColor:"transparent"},"&.cm-editor.cm-focused .cm-nonmatchingBracket":{backgroundColor:"transparent"},"&dark.cm-editor.cm-focused .cm-matchingBracket":{outline:"1px solid ".concat(t.color.base.border)},"&dark.cm-editor.cm-focused .cm-nonmatchingBracket":{outline:"1px solid ".concat(t.color.base.border)},"&light.cm-editor.cm-focused .cm-matchingBracket":{outline:"1px solid ".concat(o.color.base.border)},"&light.cm-editor.cm-focused .cm-nonmatchingBracket":{outline:"1px solid ".concat(o.color.base.border)},"& .cm-lineNumbers .cm-gutterElement":{minWidth:"32px !important",padding:"0 8px !important"},"& .cm-gutter.cm-foldGutter":{width:"0px !important"},"&dark .cm-gutters":{color:"".concat((0,l.m4)(t.color.card.enabled.code.fg,.5)," !important"),borderRight:"1px solid ".concat((0,l.m4)(t.color.base.border,.5))},"&light .cm-gutters":{color:"".concat((0,l.m4)(o.color.card.enabled.code.fg,.5)," !important"),borderRight:"1px solid ".concat((0,l.m4)(o.color.base.border,.5))}})},[e])}(),B=function(e){let{fontSize:t}=e,o=(0,l.Fg)();return(0,n.useMemo)(()=>{let{code:e}=o.sanity.fonts,{fontSize:r,lineHeight:n}=e.sizes[t]||e.sizes[2];return c.tk.baseTheme({"&":{fontSize:(0,l.hO)(r)},"& .cm-scroller":{lineHeight:"".concat(n/r," !important")}})},[t,o])}({fontSize:1}),w=function(e){let t=(0,n.useContext)(u.eo),[o,r]=(0,n.useState)();return(0,n.useEffect)(()=>{var o;let n=[...null!=(o=null==t?void 0:t.codeModes)?o:[],...g].find(t=>t.name===e);(null==n?void 0:n.loader)||console.warn("Found no codeMode for language mode ".concat(e,", syntax highlighting will be disabled."));let a=!0;return Promise.resolve(null==n?void 0:n.loader()).then(e=>{a&&r(e)}).catch(t=>{console.error("Failed to load language mode ".concat(e),t),a&&r(void 0)}),()=>{a=!1}},[e,t]),o}(s),M=(0,n.useMemo)(()=>y({onHighlightChange:h,readOnly:p,theme:x}),[h,p,x]),S=(0,n.useMemo)(()=>{let e=[F,B,M,c.tk.lineWrapping];return w?[...e,w]:e},[B,M,w,F]);(0,n.useEffect)(()=>{C&&function(e,t){let o=e.state.doc,r=Array.from({length:o.lines},(e,t)=>t+1);e.dispatch({effects:r.map(e=>{let r=o.line(e);return(null==t?void 0:t.includes(e))?f.of(r.from):b.of(r.from)})})}(C,null!=i?i:[])},[C,i,k]);let j=(0,n.useMemo)(()=>({json:{doc:null!=k?k:"",selection:{main:0,ranges:[{anchor:0,head:0}]},highlight:null!=i?i:[]},fields:J}),[]),z=(0,n.useCallback)(e=>{P(e)},[]),E=(0,n.useMemo)(()=>null!=o?o:{highlightActiveLine:!1},[o]);return(0,r.jsx)(a.ZP,{...v,value:k,ref:t,extensions:S,theme:N,onCreateEditor:z,initialState:j,basicSetup:E})})}}]);