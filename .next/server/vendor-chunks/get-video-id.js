"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/get-video-id";
exports.ids = ["vendor-chunks/get-video-id"];
exports.modules = {

/***/ "(rsc)/./node_modules/get-video-id/dist/get-video-id.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/get-video-id/dist/get-video-id.esm.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*! get-video-id v3.7.0 | @license MIT Â© Michael Wuergler | https://github.com/radiovisual/get-video-id */\n/**\n * Strip away any remaining parameters following `?` or `/` or '&' for YouTube shortcode strings.\n *\n * @note this function is not meant to work with url strings containing a protocol like https://\n * @param {String} shortcodeString - the parameter string\n * @returns {String}\n */\nfunction stripParameters(shortcodeString) {\n  // Split parameters or split folder separator\n  if (shortcodeString.includes('?')) {\n    shortcodeString = shortcodeString.split('?')[0];\n  }\n\n  if (shortcodeString.includes('/')) {\n    shortcodeString = shortcodeString.split('/')[0];\n  }\n\n  if (shortcodeString.includes('&')) {\n    shortcodeString = shortcodeString.split('&')[0];\n  }\n\n  return shortcodeString;\n}\n/**\n * Get the Youtube Video id.\n * @param {string} youtubeStr - the url from which you want to extract the id\n * @returns {string|undefined}\n */\n\n\nfunction youtube(youtubeString) {\n  var string_ = youtubeString; // Remove time hash at the end of the string\n\n  string_ = string_.replace(/#t=.*$/, ''); // Strip the leading protocol\n\n  string_ = string_.replace(/^https?:\\/\\//, ''); // Shortcode\n\n  var shortcode = /youtube:\\/\\/|youtu\\.be\\/|y2u\\.be\\//g;\n\n  if (shortcode.test(string_)) {\n    var shortcodeid = string_.split(shortcode)[1];\n    return stripParameters(shortcodeid);\n  } // Shorts\n\n\n  var shortsUrl = /\\/shorts\\//g;\n\n  if (shortsUrl.test(string_)) {\n    return stripParameters(string_.split(shortsUrl)[1]);\n  } // V= or vi=\n\n\n  var parameterv = /v=|vi=/g;\n\n  if (parameterv.test(string_)) {\n    var array = string_.split(parameterv);\n    return stripParameters(array[1].split('&')[0]);\n  } // /v/ or /vi/ or /watch/\n\n\n  var inlinev = /\\/v\\/|\\/vi\\/|\\/watch\\//g;\n\n  if (inlinev.test(string_)) {\n    var inlineid = string_.split(inlinev)[1];\n    return stripParameters(inlineid);\n  } // Format an_webp\n\n\n  var parameterwebp = /\\/an_webp\\//g;\n\n  if (parameterwebp.test(string_)) {\n    var webp = string_.split(parameterwebp)[1];\n    return stripParameters(webp);\n  } // /e/\n\n\n  var eformat = /\\/e\\//g;\n\n  if (eformat.test(string_)) {\n    var estring = string_.split(eformat)[1];\n    return stripParameters(estring);\n  } // Embed\n\n\n  var embedreg = /\\/embed\\//g;\n\n  if (embedreg.test(string_)) {\n    var embedid = string_.split(embedreg)[1];\n    return stripParameters(embedid);\n  } // ignore /user/username pattern\n\n\n  var usernamereg = /\\/user\\/([a-zA-Z\\d]*)$/g;\n\n  if (usernamereg.test(string_)) {\n    return undefined;\n  } // User\n\n\n  var userreg = /\\/user\\/(?!.*videos)/g;\n\n  if (userreg.test(string_)) {\n    var elements = string_.split('/');\n    return stripParameters(elements.pop());\n  } // Attribution_link\n\n\n  var attrreg = /\\/attribution_link\\?.*v%3D([^%&]*)(%26|&|$)/;\n\n  if (attrreg.test(string_)) {\n    return stripParameters(string_.match(attrreg)[1]);\n  } // Live\n\n\n  var livereg = /\\/live\\//g;\n\n  if (livereg.test(string_)) {\n    var liveid = string_.split(livereg)[1];\n    return stripParameters(liveid);\n  }\n\n  return undefined;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n/**\n * Get the vimeo id.\n *\n * @param {String} vimeoString the url from which you want to extract the id\n * @returns {String|undefined}\n */\nfunction vimeo(vimeoString) {\n  var string_ = vimeoString;\n\n  if (string_.includes('#')) {\n    var _string_$split = string_.split('#');\n\n    var _string_$split2 = _slicedToArray(_string_$split, 1);\n\n    string_ = _string_$split2[0];\n  }\n\n  if (string_.includes('?') && !string_.includes('clip_id=')) {\n    var _string_$split3 = string_.split('?');\n\n    var _string_$split4 = _slicedToArray(_string_$split3, 1);\n\n    string_ = _string_$split4[0];\n  }\n\n  var id;\n  var array;\n  var event = /https?:\\/\\/vimeo\\.com\\/event\\/(\\d+)$/;\n  var eventMatches = event.exec(string_);\n\n  if (eventMatches && eventMatches[1]) {\n    return eventMatches[1];\n  }\n\n  var primary = /https?:\\/\\/vimeo\\.com\\/(\\d+)/;\n  var matches = primary.exec(string_);\n\n  if (matches && matches[1]) {\n    return matches[1];\n  }\n\n  var vimeoPipe = ['https?://player.vimeo.com/video/[0-9]+$', 'https?://vimeo.com/channels', 'groups', 'album'].join('|');\n  var vimeoRegex = new RegExp(vimeoPipe, 'gim');\n\n  if (vimeoRegex.test(string_)) {\n    array = string_.split('/');\n\n    if (array && array.length > 0) {\n      id = array.pop();\n    }\n  } else if (/clip_id=/gim.test(string_)) {\n    array = string_.split('clip_id=');\n\n    if (array && array.length > 0) {\n      var _array$1$split = array[1].split('&');\n\n      var _array$1$split2 = _slicedToArray(_array$1$split, 1);\n\n      id = _array$1$split2[0];\n    }\n  }\n\n  return id;\n}\n\n/**\n * Get the vine id.\n * @param {string} string_ - the url from which you want to extract the id\n * @returns {string|undefined}\n */\nfunction vine(string_) {\n  var regex = /https:\\/\\/vine\\.co\\/v\\/([a-zA-Z\\d]*)\\/?/;\n  var matches = regex.exec(string_);\n\n  if (matches && matches.length > 1) {\n    return matches[1];\n  }\n\n  return undefined;\n}\n\n/**\n * Get the VideoPress id.\n * @param {string} urlString - the url from which you want to extract the id\n * @returns {string|undefined}\n */\nfunction videopress(urlString) {\n  var idRegex;\n\n  if (urlString.includes('embed')) {\n    idRegex = /embed\\/(\\w{8})/;\n    return urlString.match(idRegex)[1];\n  }\n\n  idRegex = /\\/v\\/(\\w{8})/;\n  var matches = urlString.match(idRegex);\n\n  if (matches && matches.length > 0) {\n    return matches[1];\n  }\n\n  return undefined;\n}\n\n/**\n * Get the Microsoft Stream id.\n * @param {string} urlString - the url from which you want to extract the id\n * @returns {string|undefined}\n */\nfunction microsoftStream(urlString) {\n  var regex = urlString.includes('embed') ? /https:\\/\\/web\\.microsoftstream\\.com\\/embed\\/video\\/([a-zA-Z\\d-]*)\\/?/ : /https:\\/\\/web\\.microsoftstream\\.com\\/video\\/([a-zA-Z\\d-]*)\\/?/;\n  var matches = regex.exec(urlString);\n\n  if (matches && matches.length > 1) {\n    return matches[1];\n  }\n\n  return undefined;\n}\n\n/**\n * Get the tiktok id.\n * @param {string} urlString - the url from which you want to extract the id\n * @returns {string|undefined}\n */\nfunction tiktok(urlString) {\n  // Parse basic url and embeds\n  var basicReg = /tiktok\\.com(.*)\\/video\\/(\\d+)/gm;\n  var basicParsed = basicReg.exec(urlString);\n\n  if (basicParsed && basicParsed.length > 2) {\n    return basicParsed[2];\n  }\n\n  return undefined;\n}\n\n/**\n * Get the dailymotion id.\n * @param {string} urlString - the url from which you want to extract the id\n * @returns {string|undefined}\n */\nfunction dailymotion(urlString) {\n  // Parse basic url and embeds\n  var basicReg = /dailymotion\\.com(.*)(video)\\/([a-zA-Z\\d]+)/gm;\n  var basicParsed = basicReg.exec(urlString);\n\n  if (basicParsed) {\n    return basicParsed[3];\n  } // Parse shortlink\n\n\n  var shortRegex = /dai\\.ly\\/([a-zA-Z\\d]+)/gm;\n  var shortParsed = shortRegex.exec(urlString);\n\n  if (shortParsed && shortParsed.length > 1) {\n    return shortParsed[1];\n  } // Dynamic link\n\n\n  var dynamicRegex = /dailymotion\\.com(.*)video=([a-zA-Z\\d]+)/gm;\n  var dynamicParsed = dynamicRegex.exec(urlString);\n\n  if (dynamicParsed && dynamicParsed.length > 2) {\n    return dynamicParsed[2];\n  }\n\n  return undefined;\n}\n\n/**\n * Get the value assigned to a \"src\" attribute in a string, or undefined.\n * @param {String} input\n * @returns {String|undefined}\n */\nfunction getSrc(input) {\n  if (typeof input !== 'string') {\n    throw new TypeError('getSrc expected a string');\n  }\n\n  var srcRegEx = /src=\"(.*?)\"/gm;\n  var matches = srcRegEx.exec(input);\n\n  if (matches && matches.length >= 2) {\n    return matches[1];\n  }\n\n  return undefined;\n}\n\n/**\n * Get the id and service from a video url.\n * @param {String} urlString - the url from which you want to extract the id\n * @returns {Object}\n */\n\nfunction getVideoId(urlString) {\n  if (typeof urlString !== 'string') {\n    throw new TypeError('get-video-id expects a string');\n  }\n\n  var string_ = urlString;\n\n  if (/<iframe/gi.test(string_)) {\n    string_ = getSrc(string_) || '';\n  } // Remove surrounding whitespaces or linefeeds\n\n\n  string_ = string_.trim(); // Remove the '-nocookie' flag from youtube urls\n\n  string_ = string_.replace('-nocookie', ''); // Remove any leading `www.`\n\n  string_ = string_.replace('/www.', '/');\n  var metadata = {\n    id: null,\n    service: null\n  }; // Try to handle google redirection uri\n\n  if (/\\/\\/google/.test(string_)) {\n    // Find the redirection uri\n    var matches = string_.match(/url=([^&]+)&/); // Decode the found uri and replace current url string - continue with final link\n\n    if (matches) {\n      // JavaScript can get encoded URI\n      string_ = decodeURIComponent(matches[1]);\n    }\n  }\n\n  if (/youtube|youtu\\.be|y2u\\.be|i.ytimg\\./.test(string_)) {\n    metadata = {\n      id: youtube(string_),\n      service: 'youtube'\n    };\n  } else if (/vimeo/.test(string_)) {\n    metadata = {\n      id: vimeo(string_),\n      service: 'vimeo'\n    };\n  } else if (/vine/.test(string_)) {\n    metadata = {\n      id: vine(string_),\n      service: 'vine'\n    };\n  } else if (/videopress/.test(string_)) {\n    metadata = {\n      id: videopress(string_),\n      service: 'videopress'\n    };\n  } else if (/microsoftstream/.test(string_)) {\n    metadata = {\n      id: microsoftStream(string_),\n      service: 'microsoftstream'\n    };\n  } else if (/tiktok\\.com/.test(string_)) {\n    metadata = {\n      id: tiktok(string_),\n      service: 'tiktok'\n    };\n  } else if (/(dailymotion\\.com|dai\\.ly)/.test(string_)) {\n    metadata = {\n      id: dailymotion(string_),\n      service: 'dailymotion'\n    };\n  }\n\n  return metadata;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getVideoId);\n//# sourceMappingURL=get-video-id.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ2V0LXZpZGVvLWlkL2Rpc3QvZ2V0LXZpZGVvLWlkLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiOzs7QUFHQTtBQUNBLCtCQUErQjs7QUFFL0IsMkNBQTJDOztBQUUzQyxpREFBaUQ7O0FBRWpEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKOztBQUVBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7O0FBRUE7QUFDQTtBQUNBLElBQUk7OztBQUdKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNEJBQTRCLCtCQUErQjtBQUMzRDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDLFNBQVM7O0FBRWxEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsRUFBRTtBQUM1QjtBQUNBOztBQUVBLHNCQUFzQixFQUFFO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7OztBQUdKLDRCQUE0Qjs7QUFFNUIsOENBQThDOztBQUU5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGlEQUFpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpRUFBZSxVQUFVLEVBQUM7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9ub2RlX21vZHVsZXMvZ2V0LXZpZGVvLWlkL2Rpc3QvZ2V0LXZpZGVvLWlkLmVzbS5qcz9hZmFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBnZXQtdmlkZW8taWQgdjMuNy4wIHwgQGxpY2Vuc2UgTUlUIMKpIE1pY2hhZWwgV3VlcmdsZXIgfCBodHRwczovL2dpdGh1Yi5jb20vcmFkaW92aXN1YWwvZ2V0LXZpZGVvLWlkICovXG4vKipcbiAqIFN0cmlwIGF3YXkgYW55IHJlbWFpbmluZyBwYXJhbWV0ZXJzIGZvbGxvd2luZyBgP2Agb3IgYC9gIG9yICcmJyBmb3IgWW91VHViZSBzaG9ydGNvZGUgc3RyaW5ncy5cbiAqXG4gKiBAbm90ZSB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBtZWFudCB0byB3b3JrIHdpdGggdXJsIHN0cmluZ3MgY29udGFpbmluZyBhIHByb3RvY29sIGxpa2UgaHR0cHM6Ly9cbiAqIEBwYXJhbSB7U3RyaW5nfSBzaG9ydGNvZGVTdHJpbmcgLSB0aGUgcGFyYW1ldGVyIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3RyaXBQYXJhbWV0ZXJzKHNob3J0Y29kZVN0cmluZykge1xuICAvLyBTcGxpdCBwYXJhbWV0ZXJzIG9yIHNwbGl0IGZvbGRlciBzZXBhcmF0b3JcbiAgaWYgKHNob3J0Y29kZVN0cmluZy5pbmNsdWRlcygnPycpKSB7XG4gICAgc2hvcnRjb2RlU3RyaW5nID0gc2hvcnRjb2RlU3RyaW5nLnNwbGl0KCc/JylbMF07XG4gIH1cblxuICBpZiAoc2hvcnRjb2RlU3RyaW5nLmluY2x1ZGVzKCcvJykpIHtcbiAgICBzaG9ydGNvZGVTdHJpbmcgPSBzaG9ydGNvZGVTdHJpbmcuc3BsaXQoJy8nKVswXTtcbiAgfVxuXG4gIGlmIChzaG9ydGNvZGVTdHJpbmcuaW5jbHVkZXMoJyYnKSkge1xuICAgIHNob3J0Y29kZVN0cmluZyA9IHNob3J0Y29kZVN0cmluZy5zcGxpdCgnJicpWzBdO1xuICB9XG5cbiAgcmV0dXJuIHNob3J0Y29kZVN0cmluZztcbn1cbi8qKlxuICogR2V0IHRoZSBZb3V0dWJlIFZpZGVvIGlkLlxuICogQHBhcmFtIHtzdHJpbmd9IHlvdXR1YmVTdHIgLSB0aGUgdXJsIGZyb20gd2hpY2ggeW91IHdhbnQgdG8gZXh0cmFjdCB0aGUgaWRcbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfVxuICovXG5cblxuZnVuY3Rpb24geW91dHViZSh5b3V0dWJlU3RyaW5nKSB7XG4gIHZhciBzdHJpbmdfID0geW91dHViZVN0cmluZzsgLy8gUmVtb3ZlIHRpbWUgaGFzaCBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmdcblxuICBzdHJpbmdfID0gc3RyaW5nXy5yZXBsYWNlKC8jdD0uKiQvLCAnJyk7IC8vIFN0cmlwIHRoZSBsZWFkaW5nIHByb3RvY29sXG5cbiAgc3RyaW5nXyA9IHN0cmluZ18ucmVwbGFjZSgvXmh0dHBzPzpcXC9cXC8vLCAnJyk7IC8vIFNob3J0Y29kZVxuXG4gIHZhciBzaG9ydGNvZGUgPSAveW91dHViZTpcXC9cXC98eW91dHVcXC5iZVxcL3x5MnVcXC5iZVxcLy9nO1xuXG4gIGlmIChzaG9ydGNvZGUudGVzdChzdHJpbmdfKSkge1xuICAgIHZhciBzaG9ydGNvZGVpZCA9IHN0cmluZ18uc3BsaXQoc2hvcnRjb2RlKVsxXTtcbiAgICByZXR1cm4gc3RyaXBQYXJhbWV0ZXJzKHNob3J0Y29kZWlkKTtcbiAgfSAvLyBTaG9ydHNcblxuXG4gIHZhciBzaG9ydHNVcmwgPSAvXFwvc2hvcnRzXFwvL2c7XG5cbiAgaWYgKHNob3J0c1VybC50ZXN0KHN0cmluZ18pKSB7XG4gICAgcmV0dXJuIHN0cmlwUGFyYW1ldGVycyhzdHJpbmdfLnNwbGl0KHNob3J0c1VybClbMV0pO1xuICB9IC8vIFY9IG9yIHZpPVxuXG5cbiAgdmFyIHBhcmFtZXRlcnYgPSAvdj18dmk9L2c7XG5cbiAgaWYgKHBhcmFtZXRlcnYudGVzdChzdHJpbmdfKSkge1xuICAgIHZhciBhcnJheSA9IHN0cmluZ18uc3BsaXQocGFyYW1ldGVydik7XG4gICAgcmV0dXJuIHN0cmlwUGFyYW1ldGVycyhhcnJheVsxXS5zcGxpdCgnJicpWzBdKTtcbiAgfSAvLyAvdi8gb3IgL3ZpLyBvciAvd2F0Y2gvXG5cblxuICB2YXIgaW5saW5ldiA9IC9cXC92XFwvfFxcL3ZpXFwvfFxcL3dhdGNoXFwvL2c7XG5cbiAgaWYgKGlubGluZXYudGVzdChzdHJpbmdfKSkge1xuICAgIHZhciBpbmxpbmVpZCA9IHN0cmluZ18uc3BsaXQoaW5saW5ldilbMV07XG4gICAgcmV0dXJuIHN0cmlwUGFyYW1ldGVycyhpbmxpbmVpZCk7XG4gIH0gLy8gRm9ybWF0IGFuX3dlYnBcblxuXG4gIHZhciBwYXJhbWV0ZXJ3ZWJwID0gL1xcL2FuX3dlYnBcXC8vZztcblxuICBpZiAocGFyYW1ldGVyd2VicC50ZXN0KHN0cmluZ18pKSB7XG4gICAgdmFyIHdlYnAgPSBzdHJpbmdfLnNwbGl0KHBhcmFtZXRlcndlYnApWzFdO1xuICAgIHJldHVybiBzdHJpcFBhcmFtZXRlcnMod2VicCk7XG4gIH0gLy8gL2UvXG5cblxuICB2YXIgZWZvcm1hdCA9IC9cXC9lXFwvL2c7XG5cbiAgaWYgKGVmb3JtYXQudGVzdChzdHJpbmdfKSkge1xuICAgIHZhciBlc3RyaW5nID0gc3RyaW5nXy5zcGxpdChlZm9ybWF0KVsxXTtcbiAgICByZXR1cm4gc3RyaXBQYXJhbWV0ZXJzKGVzdHJpbmcpO1xuICB9IC8vIEVtYmVkXG5cblxuICB2YXIgZW1iZWRyZWcgPSAvXFwvZW1iZWRcXC8vZztcblxuICBpZiAoZW1iZWRyZWcudGVzdChzdHJpbmdfKSkge1xuICAgIHZhciBlbWJlZGlkID0gc3RyaW5nXy5zcGxpdChlbWJlZHJlZylbMV07XG4gICAgcmV0dXJuIHN0cmlwUGFyYW1ldGVycyhlbWJlZGlkKTtcbiAgfSAvLyBpZ25vcmUgL3VzZXIvdXNlcm5hbWUgcGF0dGVyblxuXG5cbiAgdmFyIHVzZXJuYW1lcmVnID0gL1xcL3VzZXJcXC8oW2EtekEtWlxcZF0qKSQvZztcblxuICBpZiAodXNlcm5hbWVyZWcudGVzdChzdHJpbmdfKSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gLy8gVXNlclxuXG5cbiAgdmFyIHVzZXJyZWcgPSAvXFwvdXNlclxcLyg/IS4qdmlkZW9zKS9nO1xuXG4gIGlmICh1c2VycmVnLnRlc3Qoc3RyaW5nXykpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBzdHJpbmdfLnNwbGl0KCcvJyk7XG4gICAgcmV0dXJuIHN0cmlwUGFyYW1ldGVycyhlbGVtZW50cy5wb3AoKSk7XG4gIH0gLy8gQXR0cmlidXRpb25fbGlua1xuXG5cbiAgdmFyIGF0dHJyZWcgPSAvXFwvYXR0cmlidXRpb25fbGlua1xcPy4qdiUzRChbXiUmXSopKCUyNnwmfCQpLztcblxuICBpZiAoYXR0cnJlZy50ZXN0KHN0cmluZ18pKSB7XG4gICAgcmV0dXJuIHN0cmlwUGFyYW1ldGVycyhzdHJpbmdfLm1hdGNoKGF0dHJyZWcpWzFdKTtcbiAgfSAvLyBMaXZlXG5cblxuICB2YXIgbGl2ZXJlZyA9IC9cXC9saXZlXFwvL2c7XG5cbiAgaWYgKGxpdmVyZWcudGVzdChzdHJpbmdfKSkge1xuICAgIHZhciBsaXZlaWQgPSBzdHJpbmdfLnNwbGl0KGxpdmVyZWcpWzFdO1xuICAgIHJldHVybiBzdHJpcFBhcmFtZXRlcnMobGl2ZWlkKTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuXG4gIHZhciBfcywgX2U7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbi8qKlxuICogR2V0IHRoZSB2aW1lbyBpZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdmltZW9TdHJpbmcgdGhlIHVybCBmcm9tIHdoaWNoIHlvdSB3YW50IHRvIGV4dHJhY3QgdGhlIGlkXG4gKiBAcmV0dXJucyB7U3RyaW5nfHVuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gdmltZW8odmltZW9TdHJpbmcpIHtcbiAgdmFyIHN0cmluZ18gPSB2aW1lb1N0cmluZztcblxuICBpZiAoc3RyaW5nXy5pbmNsdWRlcygnIycpKSB7XG4gICAgdmFyIF9zdHJpbmdfJHNwbGl0ID0gc3RyaW5nXy5zcGxpdCgnIycpO1xuXG4gICAgdmFyIF9zdHJpbmdfJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9zdHJpbmdfJHNwbGl0LCAxKTtcblxuICAgIHN0cmluZ18gPSBfc3RyaW5nXyRzcGxpdDJbMF07XG4gIH1cblxuICBpZiAoc3RyaW5nXy5pbmNsdWRlcygnPycpICYmICFzdHJpbmdfLmluY2x1ZGVzKCdjbGlwX2lkPScpKSB7XG4gICAgdmFyIF9zdHJpbmdfJHNwbGl0MyA9IHN0cmluZ18uc3BsaXQoJz8nKTtcblxuICAgIHZhciBfc3RyaW5nXyRzcGxpdDQgPSBfc2xpY2VkVG9BcnJheShfc3RyaW5nXyRzcGxpdDMsIDEpO1xuXG4gICAgc3RyaW5nXyA9IF9zdHJpbmdfJHNwbGl0NFswXTtcbiAgfVxuXG4gIHZhciBpZDtcbiAgdmFyIGFycmF5O1xuICB2YXIgZXZlbnQgPSAvaHR0cHM/OlxcL1xcL3ZpbWVvXFwuY29tXFwvZXZlbnRcXC8oXFxkKykkLztcbiAgdmFyIGV2ZW50TWF0Y2hlcyA9IGV2ZW50LmV4ZWMoc3RyaW5nXyk7XG5cbiAgaWYgKGV2ZW50TWF0Y2hlcyAmJiBldmVudE1hdGNoZXNbMV0pIHtcbiAgICByZXR1cm4gZXZlbnRNYXRjaGVzWzFdO1xuICB9XG5cbiAgdmFyIHByaW1hcnkgPSAvaHR0cHM/OlxcL1xcL3ZpbWVvXFwuY29tXFwvKFxcZCspLztcbiAgdmFyIG1hdGNoZXMgPSBwcmltYXJ5LmV4ZWMoc3RyaW5nXyk7XG5cbiAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlc1sxXSkge1xuICAgIHJldHVybiBtYXRjaGVzWzFdO1xuICB9XG5cbiAgdmFyIHZpbWVvUGlwZSA9IFsnaHR0cHM/Oi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby9bMC05XSskJywgJ2h0dHBzPzovL3ZpbWVvLmNvbS9jaGFubmVscycsICdncm91cHMnLCAnYWxidW0nXS5qb2luKCd8Jyk7XG4gIHZhciB2aW1lb1JlZ2V4ID0gbmV3IFJlZ0V4cCh2aW1lb1BpcGUsICdnaW0nKTtcblxuICBpZiAodmltZW9SZWdleC50ZXN0KHN0cmluZ18pKSB7XG4gICAgYXJyYXkgPSBzdHJpbmdfLnNwbGl0KCcvJyk7XG5cbiAgICBpZiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgaWQgPSBhcnJheS5wb3AoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoL2NsaXBfaWQ9L2dpbS50ZXN0KHN0cmluZ18pKSB7XG4gICAgYXJyYXkgPSBzdHJpbmdfLnNwbGl0KCdjbGlwX2lkPScpO1xuXG4gICAgaWYgKGFycmF5ICYmIGFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBfYXJyYXkkMSRzcGxpdCA9IGFycmF5WzFdLnNwbGl0KCcmJyk7XG5cbiAgICAgIHZhciBfYXJyYXkkMSRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfYXJyYXkkMSRzcGxpdCwgMSk7XG5cbiAgICAgIGlkID0gX2FycmF5JDEkc3BsaXQyWzBdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpZDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHZpbmUgaWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXyAtIHRoZSB1cmwgZnJvbSB3aGljaCB5b3Ugd2FudCB0byBleHRyYWN0IHRoZSBpZFxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIHZpbmUoc3RyaW5nXykge1xuICB2YXIgcmVnZXggPSAvaHR0cHM6XFwvXFwvdmluZVxcLmNvXFwvdlxcLyhbYS16QS1aXFxkXSopXFwvPy87XG4gIHZhciBtYXRjaGVzID0gcmVnZXguZXhlYyhzdHJpbmdfKTtcblxuICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gbWF0Y2hlc1sxXTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogR2V0IHRoZSBWaWRlb1ByZXNzIGlkLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFN0cmluZyAtIHRoZSB1cmwgZnJvbSB3aGljaCB5b3Ugd2FudCB0byBleHRyYWN0IHRoZSBpZFxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIHZpZGVvcHJlc3ModXJsU3RyaW5nKSB7XG4gIHZhciBpZFJlZ2V4O1xuXG4gIGlmICh1cmxTdHJpbmcuaW5jbHVkZXMoJ2VtYmVkJykpIHtcbiAgICBpZFJlZ2V4ID0gL2VtYmVkXFwvKFxcd3s4fSkvO1xuICAgIHJldHVybiB1cmxTdHJpbmcubWF0Y2goaWRSZWdleClbMV07XG4gIH1cblxuICBpZFJlZ2V4ID0gL1xcL3ZcXC8oXFx3ezh9KS87XG4gIHZhciBtYXRjaGVzID0gdXJsU3RyaW5nLm1hdGNoKGlkUmVnZXgpO1xuXG4gIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBtYXRjaGVzWzFdO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIE1pY3Jvc29mdCBTdHJlYW0gaWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsU3RyaW5nIC0gdGhlIHVybCBmcm9tIHdoaWNoIHlvdSB3YW50IHRvIGV4dHJhY3QgdGhlIGlkXG4gKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gbWljcm9zb2Z0U3RyZWFtKHVybFN0cmluZykge1xuICB2YXIgcmVnZXggPSB1cmxTdHJpbmcuaW5jbHVkZXMoJ2VtYmVkJykgPyAvaHR0cHM6XFwvXFwvd2ViXFwubWljcm9zb2Z0c3RyZWFtXFwuY29tXFwvZW1iZWRcXC92aWRlb1xcLyhbYS16QS1aXFxkLV0qKVxcLz8vIDogL2h0dHBzOlxcL1xcL3dlYlxcLm1pY3Jvc29mdHN0cmVhbVxcLmNvbVxcL3ZpZGVvXFwvKFthLXpBLVpcXGQtXSopXFwvPy87XG4gIHZhciBtYXRjaGVzID0gcmVnZXguZXhlYyh1cmxTdHJpbmcpO1xuXG4gIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID4gMSkge1xuICAgIHJldHVybiBtYXRjaGVzWzFdO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHRpa3RvayBpZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxTdHJpbmcgLSB0aGUgdXJsIGZyb20gd2hpY2ggeW91IHdhbnQgdG8gZXh0cmFjdCB0aGUgaWRcbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiB0aWt0b2sodXJsU3RyaW5nKSB7XG4gIC8vIFBhcnNlIGJhc2ljIHVybCBhbmQgZW1iZWRzXG4gIHZhciBiYXNpY1JlZyA9IC90aWt0b2tcXC5jb20oLiopXFwvdmlkZW9cXC8oXFxkKykvZ207XG4gIHZhciBiYXNpY1BhcnNlZCA9IGJhc2ljUmVnLmV4ZWModXJsU3RyaW5nKTtcblxuICBpZiAoYmFzaWNQYXJzZWQgJiYgYmFzaWNQYXJzZWQubGVuZ3RoID4gMikge1xuICAgIHJldHVybiBiYXNpY1BhcnNlZFsyXTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogR2V0IHRoZSBkYWlseW1vdGlvbiBpZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxTdHJpbmcgLSB0aGUgdXJsIGZyb20gd2hpY2ggeW91IHdhbnQgdG8gZXh0cmFjdCB0aGUgaWRcbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiBkYWlseW1vdGlvbih1cmxTdHJpbmcpIHtcbiAgLy8gUGFyc2UgYmFzaWMgdXJsIGFuZCBlbWJlZHNcbiAgdmFyIGJhc2ljUmVnID0gL2RhaWx5bW90aW9uXFwuY29tKC4qKSh2aWRlbylcXC8oW2EtekEtWlxcZF0rKS9nbTtcbiAgdmFyIGJhc2ljUGFyc2VkID0gYmFzaWNSZWcuZXhlYyh1cmxTdHJpbmcpO1xuXG4gIGlmIChiYXNpY1BhcnNlZCkge1xuICAgIHJldHVybiBiYXNpY1BhcnNlZFszXTtcbiAgfSAvLyBQYXJzZSBzaG9ydGxpbmtcblxuXG4gIHZhciBzaG9ydFJlZ2V4ID0gL2RhaVxcLmx5XFwvKFthLXpBLVpcXGRdKykvZ207XG4gIHZhciBzaG9ydFBhcnNlZCA9IHNob3J0UmVnZXguZXhlYyh1cmxTdHJpbmcpO1xuXG4gIGlmIChzaG9ydFBhcnNlZCAmJiBzaG9ydFBhcnNlZC5sZW5ndGggPiAxKSB7XG4gICAgcmV0dXJuIHNob3J0UGFyc2VkWzFdO1xuICB9IC8vIER5bmFtaWMgbGlua1xuXG5cbiAgdmFyIGR5bmFtaWNSZWdleCA9IC9kYWlseW1vdGlvblxcLmNvbSguKil2aWRlbz0oW2EtekEtWlxcZF0rKS9nbTtcbiAgdmFyIGR5bmFtaWNQYXJzZWQgPSBkeW5hbWljUmVnZXguZXhlYyh1cmxTdHJpbmcpO1xuXG4gIGlmIChkeW5hbWljUGFyc2VkICYmIGR5bmFtaWNQYXJzZWQubGVuZ3RoID4gMikge1xuICAgIHJldHVybiBkeW5hbWljUGFyc2VkWzJdO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIGFzc2lnbmVkIHRvIGEgXCJzcmNcIiBhdHRyaWJ1dGUgaW4gYSBzdHJpbmcsIG9yIHVuZGVmaW5lZC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dFxuICogQHJldHVybnMge1N0cmluZ3x1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIGdldFNyYyhpbnB1dCkge1xuICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2dldFNyYyBleHBlY3RlZCBhIHN0cmluZycpO1xuICB9XG5cbiAgdmFyIHNyY1JlZ0V4ID0gL3NyYz1cIiguKj8pXCIvZ207XG4gIHZhciBtYXRjaGVzID0gc3JjUmVnRXguZXhlYyhpbnB1dCk7XG5cbiAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPj0gMikge1xuICAgIHJldHVybiBtYXRjaGVzWzFdO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGlkIGFuZCBzZXJ2aWNlIGZyb20gYSB2aWRlbyB1cmwuXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsU3RyaW5nIC0gdGhlIHVybCBmcm9tIHdoaWNoIHlvdSB3YW50IHRvIGV4dHJhY3QgdGhlIGlkXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIGdldFZpZGVvSWQodXJsU3RyaW5nKSB7XG4gIGlmICh0eXBlb2YgdXJsU3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2dldC12aWRlby1pZCBleHBlY3RzIGEgc3RyaW5nJyk7XG4gIH1cblxuICB2YXIgc3RyaW5nXyA9IHVybFN0cmluZztcblxuICBpZiAoLzxpZnJhbWUvZ2kudGVzdChzdHJpbmdfKSkge1xuICAgIHN0cmluZ18gPSBnZXRTcmMoc3RyaW5nXykgfHwgJyc7XG4gIH0gLy8gUmVtb3ZlIHN1cnJvdW5kaW5nIHdoaXRlc3BhY2VzIG9yIGxpbmVmZWVkc1xuXG5cbiAgc3RyaW5nXyA9IHN0cmluZ18udHJpbSgpOyAvLyBSZW1vdmUgdGhlICctbm9jb29raWUnIGZsYWcgZnJvbSB5b3V0dWJlIHVybHNcblxuICBzdHJpbmdfID0gc3RyaW5nXy5yZXBsYWNlKCctbm9jb29raWUnLCAnJyk7IC8vIFJlbW92ZSBhbnkgbGVhZGluZyBgd3d3LmBcblxuICBzdHJpbmdfID0gc3RyaW5nXy5yZXBsYWNlKCcvd3d3LicsICcvJyk7XG4gIHZhciBtZXRhZGF0YSA9IHtcbiAgICBpZDogbnVsbCxcbiAgICBzZXJ2aWNlOiBudWxsXG4gIH07IC8vIFRyeSB0byBoYW5kbGUgZ29vZ2xlIHJlZGlyZWN0aW9uIHVyaVxuXG4gIGlmICgvXFwvXFwvZ29vZ2xlLy50ZXN0KHN0cmluZ18pKSB7XG4gICAgLy8gRmluZCB0aGUgcmVkaXJlY3Rpb24gdXJpXG4gICAgdmFyIG1hdGNoZXMgPSBzdHJpbmdfLm1hdGNoKC91cmw9KFteJl0rKSYvKTsgLy8gRGVjb2RlIHRoZSBmb3VuZCB1cmkgYW5kIHJlcGxhY2UgY3VycmVudCB1cmwgc3RyaW5nIC0gY29udGludWUgd2l0aCBmaW5hbCBsaW5rXG5cbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgLy8gSmF2YVNjcmlwdCBjYW4gZ2V0IGVuY29kZWQgVVJJXG4gICAgICBzdHJpbmdfID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoZXNbMV0pO1xuICAgIH1cbiAgfVxuXG4gIGlmICgveW91dHViZXx5b3V0dVxcLmJlfHkydVxcLmJlfGkueXRpbWdcXC4vLnRlc3Qoc3RyaW5nXykpIHtcbiAgICBtZXRhZGF0YSA9IHtcbiAgICAgIGlkOiB5b3V0dWJlKHN0cmluZ18pLFxuICAgICAgc2VydmljZTogJ3lvdXR1YmUnXG4gICAgfTtcbiAgfSBlbHNlIGlmICgvdmltZW8vLnRlc3Qoc3RyaW5nXykpIHtcbiAgICBtZXRhZGF0YSA9IHtcbiAgICAgIGlkOiB2aW1lbyhzdHJpbmdfKSxcbiAgICAgIHNlcnZpY2U6ICd2aW1lbydcbiAgICB9O1xuICB9IGVsc2UgaWYgKC92aW5lLy50ZXN0KHN0cmluZ18pKSB7XG4gICAgbWV0YWRhdGEgPSB7XG4gICAgICBpZDogdmluZShzdHJpbmdfKSxcbiAgICAgIHNlcnZpY2U6ICd2aW5lJ1xuICAgIH07XG4gIH0gZWxzZSBpZiAoL3ZpZGVvcHJlc3MvLnRlc3Qoc3RyaW5nXykpIHtcbiAgICBtZXRhZGF0YSA9IHtcbiAgICAgIGlkOiB2aWRlb3ByZXNzKHN0cmluZ18pLFxuICAgICAgc2VydmljZTogJ3ZpZGVvcHJlc3MnXG4gICAgfTtcbiAgfSBlbHNlIGlmICgvbWljcm9zb2Z0c3RyZWFtLy50ZXN0KHN0cmluZ18pKSB7XG4gICAgbWV0YWRhdGEgPSB7XG4gICAgICBpZDogbWljcm9zb2Z0U3RyZWFtKHN0cmluZ18pLFxuICAgICAgc2VydmljZTogJ21pY3Jvc29mdHN0cmVhbSdcbiAgICB9O1xuICB9IGVsc2UgaWYgKC90aWt0b2tcXC5jb20vLnRlc3Qoc3RyaW5nXykpIHtcbiAgICBtZXRhZGF0YSA9IHtcbiAgICAgIGlkOiB0aWt0b2soc3RyaW5nXyksXG4gICAgICBzZXJ2aWNlOiAndGlrdG9rJ1xuICAgIH07XG4gIH0gZWxzZSBpZiAoLyhkYWlseW1vdGlvblxcLmNvbXxkYWlcXC5seSkvLnRlc3Qoc3RyaW5nXykpIHtcbiAgICBtZXRhZGF0YSA9IHtcbiAgICAgIGlkOiBkYWlseW1vdGlvbihzdHJpbmdfKSxcbiAgICAgIHNlcnZpY2U6ICdkYWlseW1vdGlvbidcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIG1ldGFkYXRhO1xufVxuXG5leHBvcnQgZGVmYXVsdCBnZXRWaWRlb0lkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LXZpZGVvLWlkLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/get-video-id/dist/get-video-id.esm.js\n");

/***/ })

};
;